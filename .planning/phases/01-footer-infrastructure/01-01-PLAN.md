---
phase: 01-footer-infrastructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/frontend/components/footer.tsx
  - apps/frontend/app/(auth)/layout.tsx
autonomous: false

must_haves:
  truths:
    - "User sees a multi-column footer with link groups on any main app page"
    - "User sees the same footer on login and register pages"
    - "User sees copyright line reading '(c) {year} Matrummet' in the footer"
    - "Footer layout is responsive: 2 columns on desktop, stacked on mobile"
    - "Footer has no top border - background color alone separates it from content"
  artifacts:
    - path: "apps/frontend/components/footer.tsx"
      provides: "Multi-column footer with links and copyright"
      contains: "Matrummet"
      min_lines: 20
    - path: "apps/frontend/app/(auth)/layout.tsx"
      provides: "Auth layout with footer rendered"
      contains: "Footer"
  key_links:
    - from: "apps/frontend/components/footer.tsx"
      to: "/om, /integritetspolicy, /villkor"
      via: "anchor href attributes"
      pattern: "href=\"/(om|integritetspolicy|villkor)\""
    - from: "apps/frontend/app/(auth)/layout.tsx"
      to: "apps/frontend/components/footer.tsx"
      via: "import and JSX render"
      pattern: "import.*Footer.*from.*components/footer"
    - from: "apps/frontend/app/(main)/layout.tsx"
      to: "apps/frontend/components/footer.tsx"
      via: "existing import (must still work)"
      pattern: "import.*Footer.*from.*components/footer"
---

<objective>
Redesign the minimal copyright-only footer into a professional multi-column layout and ensure it renders on all pages including auth (login, register).

Purpose: Users see a polished, trustworthy footer everywhere in the app — the foundation for Phase 2 content pages.
Output: Updated `footer.tsx` with 2-column responsive grid and links; updated `(auth)/layout.tsx` with footer rendered.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-footer-infrastructure/01-CONTEXT.md
@.planning/phases/01-footer-infrastructure/01-RESEARCH.md
@apps/frontend/components/footer.tsx
@apps/frontend/app/(main)/layout.tsx
@apps/frontend/app/(auth)/layout.tsx
@apps/frontend/app/layout.tsx
@apps/frontend/app/globals.css
@apps/frontend/lib/constants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign footer component with multi-column layout</name>
  <files>apps/frontend/components/footer.tsx</files>
  <action>
Rewrite the existing `Footer` component in `apps/frontend/components/footer.tsx` to a professional multi-column layout. Keep it as a Server Component (no "use client" directive). Implementation details:

**Layout structure:**
- Outer `<footer>` with muted background (use `bg-muted/30` or similar — no top border, background alone separates from content). Remove the existing `border-t border-border` classes.
- Inner container: `container mx-auto max-w-7xl` for consistency with the main layout.
- CSS Grid: `grid grid-cols-1 gap-8 md:grid-cols-2` for responsive 2-column desktop / stacked mobile.
- Padding: comfortable vertical spacing (`py-8 md:py-12`), horizontal `px-4`.

**Column 1 — Links (appears second on mobile, first on desktop):**
- Bold heading: "Information"
- Navigation links as `<nav>` with `<a>` elements in a vertical flex column (`flex flex-col gap-2`):
  - "Om" linking to `/om`
  - "Integritetspolicy" linking to `/integritetspolicy`
  - "Villkor" linking to `/villkor`
- Link styling: `text-muted-foreground hover:underline`
- Use Next.js `Link` component from `next/link` for client-side navigation (import it).

**Column 2 — Info (appears first on mobile via `order-first md:order-last`):**
- Bold heading: "Matrummet" (the brand name, not "Recept")
- Copyright line: `© {new Date().getFullYear()} Matrummet` in `text-sm text-muted-foreground`
- Right-aligned on desktop (`md:text-right`), left-aligned on mobile (default).

**Mobile behavior:**
- Columns stack vertically. Info column first (brand-first), then links below.
- Use `order-first md:order-last` on the info column to achieve this ordering.
- Left-aligned on mobile (no text-center).
- Tighter padding on mobile compared to desktop (the py-8 vs md:py-12 handles this).

**Important:**
- Copyright entity is "Matrummet" NOT "Recept" — do NOT use `APP_NAME` constant for this.
- Keep the component as a named export: `export function Footer()`.
- This is a Server Component — no useState, useEffect, or "use client".
- Heading font: use `font-semibold text-foreground` for both column headings.
- Heading bottom margin: `mb-4`.
  </action>
  <verify>
Run `pnpm build` from the repo root (or `.claude/hooks/run-silent.sh "Build" "pnpm build"`) to confirm no TypeScript or build errors. Grep `footer.tsx` for "Matrummet" to confirm correct copyright entity. Grep for "border-t" to confirm it was removed.
  </verify>
  <done>
footer.tsx contains a 2-column responsive grid with: (1) Links column with heading "Information" and 3 links to /om, /integritetspolicy, /villkor, (2) Info column with heading "Matrummet" and copyright "© {year} Matrummet". No top border. Background color provides separation. Mobile stacks info-first, links-second.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add footer to auth layout</name>
  <files>apps/frontend/app/(auth)/layout.tsx</files>
  <action>
Modify `apps/frontend/app/(auth)/layout.tsx` to render the Footer component. Current auth layout uses `min-h-screen` on `<main>` which conflicts with the root layout's flexbox pattern and would push the footer off-screen.

**Changes:**

1. Add import at top: `import { Footer } from '@/components/footer'`

2. Restructure the layout JSX. The current structure wraps everything in a single `<main className="min-h-screen flex items-center justify-center ...">`. Change it so:
   - Remove `min-h-screen` from `<main>` — the root layout's `flex min-h-screen flex-col` already handles full-height.
   - Add `flex-1` to `<main>` so it takes available space and pushes footer to bottom (same pattern as main layout).
   - Keep `flex items-center justify-center` on `<main>` so the auth card stays centered.
   - Keep `bg-background px-4` on `<main>`.
   - Render `<Footer />` after `</main>`, still inside the `<AuthProvider>`.

The resulting JSX structure should be:
```tsx
<AuthProvider initialUser={null}>
  <main className="flex-1 flex items-center justify-center bg-background px-4">
    <div className="w-full max-w-md">
      {/* existing card content unchanged */}
    </div>
  </main>
  <Footer />
</AuthProvider>
```

**Important:**
- Do NOT change the inner card structure (h1, p, card div with children) — only the outer main element and adding Footer.
- Do NOT remove the existing APP_NAME import or AuthProvider wrapper.
- The Footer sits outside `<main>` but inside `<AuthProvider>` (AuthProvider is fine as a wrapper for both).
  </action>
  <verify>
Run `pnpm build` from repo root to confirm no TypeScript or build errors. Check that the auth layout file imports Footer and renders it after main. Verify `min-h-screen` is NOT on the `<main>` element (should be `flex-1` instead).
  </verify>
  <done>
Auth layout renders Footer component after the main content area. Auth card remains centered. Footer appears at bottom of auth pages. `min-h-screen` removed from main, replaced with `flex-1` to work with root layout's flexbox.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Professional multi-column footer that renders on all pages including auth. Two-column layout (links + info/copyright) with responsive mobile stacking.</what-built>
  <how-to-verify>
1. Run `pnpm dev` and open the app in your browser.
2. Navigate to any main app page (e.g., homepage). Verify:
   - Footer shows at the bottom with muted background (no top border line).
   - Left column has heading "Information" with 3 links: Om, Integritetspolicy, Villkor.
   - Right column has heading "Matrummet" and copyright "© 2026 Matrummet".
   - Links have underline on hover.
3. Navigate to the login page (/logga-in or equivalent auth route). Verify:
   - Same footer appears at the bottom.
   - Auth card is still centered on the page.
   - Footer sits at the bottom, not overlapping the card.
4. Resize browser to mobile width (~375px). Verify:
   - Columns stack vertically.
   - Info/brand column appears first, links column appears below.
   - Content is left-aligned, not centered.
   - Padding is comfortable but tighter than desktop.
5. Click the footer links (Om, Integritetspolicy, Villkor). They will show 404 — that's expected, those pages are built in Phase 2. Just verify the links navigate to the correct routes.
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `pnpm build` passes with zero errors.
2. Footer component renders on both (main) and (auth) layout pages.
3. Footer contains correct links (/om, /integritetspolicy, /villkor) and copyright ("Matrummet").
4. No `border-t` on footer — background-only separation.
5. Responsive: 2 columns on desktop, stacked on mobile with info-first ordering.
</verification>

<success_criteria>
- FOOT-01 satisfied: Multi-column footer with grouped links visible on main pages.
- FOOT-02 satisfied: Copyright line with current year reads "© {year} Matrummet".
- FOOT-03 satisfied: Footer renders on auth pages (login, register) identically to main pages.
- Responsive layout works at mobile (375px), tablet (768px), and desktop (1024px+) widths.
</success_criteria>

<output>
After completion, create `.planning/phases/01-footer-infrastructure/01-01-SUMMARY.md`
</output>
