# PostgREST configuration for Matrummet
# Production location: /etc/postgrest/matrummet.conf (owned by postgres)
#
# Secrets are substituted via envsubst during CI deploy.
# Required env vars: POSTGREST_DB_PASSWORD, POSTGREST_JWT_SECRET

db-uri = "postgres://matrummet:${POSTGREST_DB_PASSWORD}@localhost:5432/matrummet"
db-schemas = "public"
db-anon-role = "anon"
db-pre-request = "pre_request"
jwt-secret = "${POSTGREST_JWT_SECRET}"
role-claim-key = ".role"
openapi-mode = "follow-privileges"
openapi-server-proxy-uri = "https://api.matrummet.se"
server-port = 4444
server-host = "127.0.0.1"
db-max-rows         = 1000
db-pool             = 25
db-pool-acquisition-timeout = 10
